<!DOCTYPE html>

<html>

	<head>
		<meta charset="UTF-8">
		<title>视频显示图片</title>
		<script src="../../js/jquery.min.js" type="text/javascript" charset="utf-8"></script>
	</head>

	<body>
		<video id="video" controls="controls" autoplay=""></video>
		<div id="output"></div>
		<script type="text/javascript">
			(function(){
				var video=document.querySelector("#video");
				video.style.display="none";
				var sd="../../img/video_02.mp4";
				video.innerHTML='<source src='+sd+'>';
				var output;
				var scale = 0.8;
				var initialize = function() {
					output = document.getElementById("output");
					video.addEventListener('loadeddata', captureImage);
				}; 
				var captureImage = function() {      
					var canvas = document.createElement("canvas");      
					canvas.width = video.videoWidth * scale;      
					canvas.height = video.videoHeight * scale;      
					canvas.getContext('2d').drawImage(video, 0, 0, canvas.width, canvas.height);       
					var img = document.createElement("img");   
					img.src = canvas.toDataURL("image/png");      
					output.appendChild(img);
					
					$("#output>img").on("click",function(){
						video.style.display="block";
						$("#output").hide();
					})
				}; 
				initialize();
			})();
		</script>
	</body>

</html>
